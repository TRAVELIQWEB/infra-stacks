services:
  redis-sentinel:
    image: redis/redis-stack:latest     # you requested redis stack
    container_name: "redis-sentinel-${SENTINEL_PORT}"
    restart: unless-stopped

    command: ["redis-server", "/etc/redis/sentinel.conf", "--sentinel"]

    ports:
      - "${SENTINEL_PORT}:26379"        # internal always 26379

    volumes:
      - "${CONF_FILE}:/etc/redis/sentinel.conf"   # must be quoted
